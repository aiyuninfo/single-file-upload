!function(){"use strict";function l(){var l={replace:!0,restrict:"EA",template:'<button class="btn btn-primary" type="file" ngf-select="uploadFiles($file, $invalidFiles)" ngf-max-size="3MB"><span class="glyphicon glyphicon-cloud-upload"></span>&nbsp;&nbsp;<span>Select File</span>&nbsp;&nbsp;[<span>{{fileUrl}}</span>]</button>',scope:{uploadUrl:"@",fileUrl:"="},controller:"fileUploadController",link:function(l,n,e,t){}};return l}function n(l,n,e){l.uploadFiles=function(t,a){l.f=t,l.errFile=a&&a[0],t&&(t.upload=e.upload({url:l.uploadUrl,data:{file:t}}),t.upload.then(function(e){n(function(){l.fileUrl=e.data[0].path,t.result=e.data})},function(n){n.status>0&&(l.errorMsg=n.status+": "+n.data)},function(l){t.progress=Math.min(100,parseInt(100*l.loaded/l.total))}))}}angular.module("aiyun.single.file.upload",["ngFileUpload"]).directive("singleFileUpload",l).controller("fileUploadController",n),l.$inject=[],n.$inject=["$scope","$timeout","Upload"]}();